"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}document.addEventListener("DOMContentLoaded",function(){var e=[].concat(_toConsumableArray(document.querySelectorAll(".js-open-detail"))),t=[].concat(_toConsumableArray(document.querySelectorAll(".js-close-detail"))),i=[].concat(_toConsumableArray(document.querySelectorAll(".js-open-more"))),s=[].concat(_toConsumableArray(document.querySelectorAll(".js-tab-view-link"))),o=[].concat(_toConsumableArray(document.querySelectorAll(".js-tab-view-content"))),n=[].concat(_toConsumableArray(document.querySelectorAll(".js-current-selection"))),r=[].concat(_toConsumableArray(document.querySelectorAll(".js-hover-detail-text"))),a=document.querySelector(".day-table"),l=135,c=document.querySelector(".js-arrow-left"),d=document.querySelector(".js-arrow-right"),u=a.offsetWidth,p=0,h=Math.abs(Math.ceil((u-1e3)/l)),f=document.querySelector(".js-more-users"),v=window.matchMedia("(max-width: 1024px)");v.matches?e.forEach(function(e){e.addEventListener("click",function(){try{var e=[].concat(_toConsumableArray(document.querySelectorAll(".event-info"))).filter(function(e){return e.classList.contains("open")})[0];void 0!=e&&e.classList.remove("open"),this.closest(".events-list__item").querySelector(".event-info").classList.add("open"),[].concat(_toConsumableArray(document.querySelectorAll(".calendar-table__row"))).forEach(function(e){e.classList.remove("open")}),this.closest(".calendar-table__row").classList.add("open")}catch(e){console.warn(e)}})}):e.forEach(function(e){e.addEventListener("mouseover",function(){try{var e=[].concat(_toConsumableArray(document.querySelectorAll(".event-info"))).filter(function(e){return e.classList.contains("open")})[0];void 0!=e&&e.classList.remove("open"),this.closest(".events-list__item").querySelector(".event-info").classList.add("open")}catch(e){console.warn(e)}})}),t.forEach(function(e){e.addEventListener("click",function(){try{this.closest(".event-info").classList.remove("open")}catch(e){console.warn(e)}})}),i.forEach(function(e){e.addEventListener("click",function(){try{this.closest(".calendar-table__item").classList.add("full");var e=this.closest(".calendar-table__item").offsetHeight;this.closest(".calendar-table__item").style.marginBottom=-(e-160)+"px"}catch(e){console.warn(e)}})}),s.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();try{var t=this.getAttribute("data-view");s.forEach(function(e){e.classList.remove("active")}),this.classList.add("active"),o.forEach(function(e){e.classList.remove("active")}),o.filter(function(e){return e.getAttribute("data-view")==t})[0].classList.add("active"),n.forEach(function(e){e.classList.remove("active")}),n.filter(function(e){return e.getAttribute("data-view")==t})[0].classList.add("active")}catch(e){console.warn(e)}})}),v.matches?r.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();try{console.log(this),this.classList.add("full"),this.querySelector(".js-hide-preview").classList.add("hide"),this.querySelector(".js-open-detail").classList.add("show")}catch(e){console.warn(e)}})}):r.forEach(function(e){e.addEventListener("mouseover",function(e){e.preventDefault();try{console.log(this),this.classList.add("full"),this.querySelector(".js-hide-preview").classList.add("hide"),this.querySelector(".js-open-detail").classList.add("show")}catch(e){console.warn(e)}}),e.addEventListener("mouseout",function(e){e.preventDefault();try{this.classList.remove("full"),this.querySelector(".js-hide-preview").classList.remove("hide"),this.querySelector(".js-open-detail").classList.remove("show")}catch(e){console.warn(e)}})}),d.addEventListener("click",function(){p++,0<p?c.classList.add("active"):c.classList.remove("active"),p<h&&(a.style.left=-p*l+"px"),p==h?d.classList.remove("active"):d.classList.add("active")}),c.addEventListener("click",function(){p--,0<p?c.classList.add("active"):c.classList.remove("active"),p<h&&(a.style.left=-p*l+"px"),p==h?d.classList.remove("active"):d.classList.add("active")}),f&&f.addEventListener("click",function(){try{this.closest(".user-list__list").querySelector(".user-list__hide-list").classList.toggle("open"),this.classList.toggle("active"),this.innerText=this.classList.contains("active")?"Свернуть ":"Все слушатели"}catch(e){console.warn(e)}}),document.addEventListener("click",function(e){var t=[].concat(_toConsumableArray(document.querySelectorAll(".calendar-table__item")));void 0!=t&&(t=t.filter(function(e){return e.classList.contains("full")})[0]);try{t.contains(e.target)||t.classList.remove("full")}catch(e){console.warn(e)}})});