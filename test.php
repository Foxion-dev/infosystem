<? require($_SERVER["DOCUMENT_ROOT"]."/bitrix/header.php");?>
<?php

\Bitrix\Main\Loader::includeModule('iblock');
/*
$courses = [
    "_IS018promo" => 42128,
    "1" => 42201,
    "1759" => 42206,
    "1759promo" => 42207,
    "1785" => 42208,
    "2" => 42204,
    "ALSE-1601" => 42038,
    "ALSE-1602" => 41452,
    "ALSE-1603" => 41456,
    "ALSE-1604" => 41460,
    "ALSE-1605" => 42044,
    "ALSE-1606" => 42148,
    "ALSE-1606promo" => 42141,
    "ALSE-1607" => 42145,
    "ALSE-1607promo" => 42140,
    "ALSE-1608" => 42146,
    "ALSE-1608promo" => 42142,
    "ALSE-1609" => 42147,
    "ALSE-1609promo" => 42143,
    "ALSE-1610" => 42347,
    "ALSE-1610promo" => 42373,
    "ALTADM1" => 42205,
    "AST001" => 42091,
    "AST002" => 42090,
    "BCM01001" => 42335,
    "BCM02001" => 42330,
    "BCM02201" => 42333,
    "BCM03001" => 42331,
    "BCM04001" => 41771,
    "CB001" => 42354,
    "CB003" => 42315,
    "CB004" => 42316,
    "CB005" => 42318,
    "CB006" => 41751,
    "CB007" => 42319,
    "CB009" => 42317,
    "CB010" => 41798,
    "CB011" => 42352,
    "CB012" => 42320,
    "CB013" => 42353,
    "CB014" => 42313,
    "CB015" => 42350,
    "CB016" => 42322,
    "CB017" => 42351,
    "CB018" => 42314,
    "CB019" => 42321,
    "CB020" => 42381,
    "CB021" => 42382,
    "CB022" => 42380,
    "CCSA-R80.10" => 42052,
    "CCSE-R80.10" => 42049,
    "CCSM-R80.10" => 42056,
    "CGEIT" => 42096,
    "CISA" => 41335,
    "CISM" => 41336,
    "COBIT" => 42097,
    "COD001" => 42025,
    "COD002" => 41355,
    "COD003" => 42003,
    "COD004" => 42004,
    "COD005" => 42005,
    "COD006" => 41408,
    "COMG" => 42106,
    "CP-A77.30" => 42051,
    "CP-E77.30" => 42047,
    "CP-IPS" => 42048,
    "CP-SM77" => 42057,
    "CP-VSX-R77" => 42055,
    "CRISC" => 41517,
    "CS-01" => 42102,
    "DO001" => 42027,
    "DO001promo" => 42123,
    "DO002" => 42054,
    "DO003" => 42053,
    "DO004" => 41471,
    "DO005" => 42018,
    "ED001" => 41986,
    "ED002" => 42111,
    "ED003" => 42110,
    "ED004" => 42376,
    "ED004promo" => 42374,
    "ED010Promo" => 42024,
    "EMS01" => 42059,
    "EMS010" => 42081,
    "EMS02" => 42060,
    "EMS020" => 42063,
    "EMS029" => 42064,
    "EMS03" => 42061,
    "EMS030" => 42084,
    "EMS04" => 42062,
    "ES010" => 41332,
    "ES010Promo" => 42015,
    "ES010Promo" => 42311,
    "ES020" => 41333,
    "ES030" => 41350,
    "ES030-1" => 41334,
    "ES040" => 41356,
    "ES041" => 41358,
    "ES042" => 41359,
    "ES043" => 41976,
    "ES050" => 41362,
    "ES050-1" => 41999,
    "ES051" => 41977,
    "ES060" => 41351,
    "ES070" => 42022,
    "ES071" => 42121,
    "ES080" => 41516,
    "ES080-1" => 41980,
    "ES090" => 41639,
    "ES101" => 42021,
    "ES101Promo" => 42020,
    "ES103" => 42119,
    "ES104" => 41985,
    "ES105" => 41435,
    "ES106" => 41367,
    "ES106_Promo" => 42017,
    "ES107" => 42023,
    "ES108" => 42036,
    "ES108Promo" => 42031,
    "ES200" => 41414,
    "ES200Promo" => 42016,
    "ES201" => 41416,
    "ES202" => 42011,
    "ES203" => 41418,
    "ES300" => 41419,
    "ES300-1" => 42026,
    "ES300promo" => 42125,
    "ES301" => 42012,
    "ES302" => 41421,
    "ES400" => 42013,
    "ES500" => 41640,
    "ES500promo" => 42164,
    "ES600" => 42167,
    "ES600promo" => 42168,
    "IS001promo" => 42302,
    "IS002" => 41968,
    "IS003" => 41969,
    "IS005" => 41970,
    "IS006" => 41340,
    "IS011" => 41403,
    "IS016" => 41971,
    "IS017" => 41972,
    "IS017promo" => 42130,
    "IS018" => 41343,
    "IS019" => 41344,
    "IS019(1)promo" => 42073,
    "IS019(2)promo" => 42094,
    "IS019(3)promo" => 42202,
    "IS019(4)promo" => 42329,
    "IS020" => 41542,
    "IS020promo" => 42120,
    "IS021" => 42199,
    "IS040" => 41345,
    "IS049" => 41346,
    "IS052" => 41347,
    "IS053" => 41973,
    "IS054" => 42033,
    "IS058" => 41974,
    "IS059" => 41975,
    "IS061" => 41443,
    "IS065" => 42028,
    "IS066" => 42079,
    "IS068" => 41353,
    "IS069" => 42035,
    "IS070" => 41354,
    "IS071" => 41357,
    "IS072" => 41978,
    "IS072-promo" => 42077,
    "IS073" => 41996,
    "IS076" => 41979,
    "IS076-1promo" => 42103,
    "IS076promo" => 42092,
    "IS077" => 41532,
    "IS077Promo" => 42117,
    "IS077Promo2" => 42394,
    "IS078" => 42129,
    "IS080" => 42113,
    "IS081" => 41636,
    "IS082" => 42210,
    "IS083" => 42213,
    "IS084" => 42212,
    "IS085" => 41736,
    "IS086" => 42301,
    "IS087" => 41821,
    "IS088" => 41846,
    "ISA010" => 42029,
    "ISA020" => 41981,
    "ISAF01" => 41982,
    "ISAF02" => 41983,
    "ISAF03" => 41995,
    "ISAF04" => 41984,
    "ISAF05" => 42045,
    "ISB100promo" => 42080,
    "ISD014" => 41987,
    "ISF080" => 41374,
    "ISF106" => 41375,
    "ISF216" => 41988,
    "ISF504" => 41377,
    "ISF512" => 41378,
    "ISF512promo" => 42198,
    "ISH010" => 41379,
    "ISH020" => 41989,
    "ISM010" => 41381,
    "ISM020" => 41382,
    "ISM030" => 41383,
    "ISM040" => 41991,
    "ISM050" => 41448,
    "ISM060" => 42065,
    "ISM061" => 42066,
    "ISM062" => 42067,
    "ISM063" => 42072,
    "ISNPS011" => 42009,
    "ISNPS012" => 42074,
    "ISNPS041" => 42019,
    "ISNPS041_promo" => 42050,
    "ISNPS041(2)promo" => 42136,
    "ISO037" => 42070,
    "ISO038" => 42075,
    "ISO039" => 42071,
    "ISOMED001" => 42109,
    "ISP010" => 41441,
    "ISSF010" => 41990,
    "ISSF020" => 42089,
    "ISSF020-1" => 41548,
    "ISSF030" => 42211,
    "ISST01" => 41385,
    "ISST01-2promo" => 42312,
    "ISST01-promo" => 42076,
    "ISST01PROMO" => 42114,
    "ISST01Promo1" => 42395,
    "IT001" => 42037,
    "IT002" => 42149,
    "IT002promo" => 42144,
    "IT003" => 42150,
    "IT004" => 42179,
    "IT005" => 42178,
    "IT006" => 42172,
    "IT007" => 41592,
    "IT008" => 42165,
    "IT009" => 41591,
    "IT010" => 42174,
    "IT011" => 41604,
    "IT012" => 42171,
    "IT013" => 42175,
    "IT014" => 41606,
    "IT014promo" => 42189,
    "IT015" => 42173,
    "IT015promo" => 42195,
    "IT016" => 42169,
    "IT016promo" => 42188,
    "IT017" => 42177,
    "IT017promo" => 42184,
    "IT018" => 42170,
    "IT018promo" => 42185,
    "IT019" => 42166,
    "IT019promo" => 42186,
    "IT020" => 42176,
    "IT021" => 41610,
    "IT021promo" => 42181,
    "IT022" => 42180,
    "IT022promo" => 42182,
    "IT024" => 42209,
    "IT025" => 42323,
    "IT026" => 42349,
    "IT027" => 42368,
    "IT028" => 42369,
    "IT028" => 42375,
    "IT029" => 42370,
    "IT029" => 42377,
    "IT030" => 42371,
    "ITID001" => 42108,
    "ITID001promo" => 42127,
    "ITZ" => 41400,
    "ITZ010" => 42000,
    "ITZ020_" => 42010,
    "ITZ030" => 42001,
    "ITZpromo" => 42124,
    "Jv001Promo" => 42156,
    "Jv002Promo" => 42154,
    "Jv003Promo" => 42152,
    "Jv004Promo" => 42151,
    "Jv005Promo" => 42162,
    "Jv006Promo" => 42159,
    "Jv007Promo" => 42157,
    "KL_002.11" => 42039,
    "KL_009.10" => 42040,
    "KL_014.50" => 42041,
    "KL011" => 41439,
    "KL012" => 41440,
    "KL01promo" => 42100,
    "KL02promo" => 42101,
    "KO001" => 41992,
    "KO002" => 41993,
    "KO003" => 41994,
    "KO004" => 42030,
    "KO005" => 41513,
    "KO005-1" => 42116,
    "KO006" => 41647,
    "KO007" => 41745,
    "KO00t" => 42032,
    "KP000promo" => 42095,
    "KP010promo" => 42132,
    "KP020" => 41390,
    "KP020promo" => 42131,
    "KP040" => 41391,
    "KP040promo" => 42203,
    "KP060" => 42008,
    "KP070" => 42200,
    "KP080" => 42300,
    "KR001" => 41323,
    "KR002" => 41324,
    "KR003" => 41325,
    "KR004" => 41964,
    "KR005" => 41965,
    "KR006" => 41328,
    "KR007" => 41966,
    "KR008" => 41967,
    "KR009" => 41331,
    "KR010" => 42118,
    "KR011" => 42122,
    "KR020_Promo" => 42014,
    "KÐ 010" => 41997,
    "LR001" => 42007,
    "LR002" => 42006,
    "LR003" => 42126,
    "m2" => 42115,
    "OHS010" => 42082,
    "OHS020" => 42068,
    "OHS030" => 42069,
    "PAN210" => 42085,
    "PAN214" => 42087,
    "PAN220" => 42086,
    "Pan330" => 42078,
    "PH001" => 41561,
    "PH002" => 42138,
    "PH003" => 42139,
    "PH004" => 42303,
    "PH004promo" => 42183,
    "PH005" => 42307,
    "PH005promo" => 42187,
    "PH006" => 42306,
    "PH006promo" => 42191,
    "PH007" => 42305,
    "PH007promo" => 42192,
    "PH008" => 42304,
    "PH009" => 42378,
    "PH010" => 42379,
    "promo-IS066" => 42098,
    "promoIS054" => 42104,
    "PS001" => 42137,
    "PS001promo" => 42190,
    "PS002promo" => 42193,
    "PS003promo" => 42194,
    "Pt001Promo" => 42163,
    "Pt002Promo" => 42153,
    "Pt003Promo" => 42161,
    "Pt004Promo" => 42158,
    "SAP010" => 42058,
    "SC001" => 41779,
    "SN001promo" => 42107,
    "SN002promo" => 42196,
    "SN003" => 41392,
    "SN003promo" => 42105,
    "SN003t" => 41393,
    "SN004" => 42099,
    "SN004prom" => 42112,
    "SN005" => 42372,
    "SO001" => 41646,
    "ST001" => 42002,
    "ST002" => 41404,
    "SUOT" => 42083,
    "test" => 41788,
    "TS001" => 42334,
    "TS002" => 42336,
    "TS003" => 42344,
    "TS004" => 42339,
    "TS005" => 42340,
    "TS006" => 42341,
    "TS007" => 42338,
    "TS008" => 42342,
    "TS009" => 41784,
    "TS010" => 42343,
    "TS011" => 42332,
    "TS012" => 42345,
    "TS013" => 42337,
    "TS014" => 42348,
    "VG001" => 41394,
    "VG001promo" => 42197,
    "VG001t" => 41998,
    "VN001" => 42042,
    "VN004" => 42043,
    "VN005" => 42046,
    "Wb001Promo" => 42155,
    "Wb002Promo" => 42160,
    "WEB01" => 42088,
    "WEB02" => 42133,
    "WEB03" => 42135,
    "WEB04" => 42134,
    "WIN001" => 42034,
    "WINS012" => 42093,
];
$el = new CIBlockElement;

foreach ($courses as $code => $course) {
    $element = \Bitrix\Iblock\ElementTable::getList([
        'select' => ['ID', 'CODE'],
        'filter' => [
            'IBLOCK_ID' => 2,
            '=CODE' => $code
        ]
    ])->fetch();
    if ($element && $element['CODE'] == $code) {
        $arLoadProductArray = Array(
            "IBLOCK_ID" => 2,
            "XML_ID" => $code,
        );

        $res = $el->Update($element['ID'], [
            "IBLOCK_ID" => 2,
            "XML_ID" => $course,
        ]);
        if ($res) {
            $successUpdate[] = $res;
        } else {
            $errorUpdate[$course] = $el->LAST_ERROR;
        }
    } else {
        $errorFind[] = $course;
    }
}
*/
$result = \Bitrix\Main\UserGroupTable::getList(array(
    'filter' => [
        'USER_ID' => $GLOBALS["USER"]->GetID(),
        'GROUP.ID' => [8, 9, 10]
    ]
))->fetchAll();
?>
<pre><?print_r($result)?></pre>
<?require($_SERVER["DOCUMENT_ROOT"]."/bitrix/footer.php");?>
